{"version":3,"sources":["components/imageGallery/imageGallery.module.css","components/button/button.module.css","components/Loader/loder.module.css","components/searchbar/searchbar.module.css","components/imageGalleryItem/imageGalleryItem.js","components/imageGallery/imageGallery.js","services/pixabayFetch.js","components/searchbar/searchbar.js","components/modal/modal.js","components/button/button.js","components/Loader/loader.js","App.js","index.js","components/imageGalleryItem/imageGalleryItem.module.css","components/modal/modal.module.css"],"names":["module","exports","ImageGalleryItem","openModal","bigImageURL","url","className","s","imageGalleryItem","src","alt","imageGalleryItemImage","onClick","ImageGallery","onSelect","imageName","page","statusOff","status","useState","images","setImages","useEffect","name","fetch","then","res","json","pixabayFetch","image","hits","length","prevImages","imageGallery","map","img","webformatURL","largeImageURL","bigImgUrl","Searchbar","onSubmit","setImageName","searchbar","searchForm","event","preventDefault","trim","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","value","onChange","currentTarget","toLowerCase","placeholder","Modal","bigImg","onClose","window","addEventListener","handleKeyDown","removeEventListener","useCallback","e","code","overlay","target","modal","width","Button","onClickAdd","scrollTo","top","document","documentElement","scrollHeight","behavior","button","Loader","color","height","App","showModal","setShowModal","setBigImg","setPage","setButton","setStatus","toggleModal","onOpen","bigImgURL","idle","setTimeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3fa57dc0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__2dlv7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__1DYH1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"loder_overlay__36xl0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchbar_searchbar__xttx3\",\"searchForm\":\"searchbar_searchForm__1KUz1\",\"searchFormButton\":\"searchbar_searchFormButton__3l0HT\",\"searchFormButtonLabel\":\"searchbar_searchFormButtonLabel__3owLQ\",\"searchFormInput\":\"searchbar_searchFormInput__1K7-K\"};","import PropTypes from 'prop-types';\nimport s from './imageGalleryItem.module.css';\nexport default function ImageGalleryItem({ openModal, bigImageURL, url }) {\n  const onClickItem = () => {\n    openModal(bigImageURL);\n  };\n  return (\n    <li className={s.imageGalleryItem}>\n      <img\n        src={url}\n        alt=\"\"\n        className={s.imageGalleryItemImage}\n        onClick={onClickItem}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  bigImageURL: PropTypes.string,\n  url: PropTypes.string,\n  openModal: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../imageGalleryItem/imageGalleryItem';\nimport s from './imageGallery.module.css';\nimport pixabayFetch from '../../services/pixabayFetch';\n\nexport default function ImageGallery({\n  onSelect,\n  imageName,\n  page,\n  statusOff,\n  status,\n}) {\n  const [images, setImages] = useState([]);\n\n  useEffect(() => {\n    if (images === []) {\n      return;\n    }\n    setImages([]);\n  }, [imageName]);\n\n  useEffect(() => {\n    if (status === 'load') {\n      pixabayFetch(imageName, page).then(image => {\n        if (image.hits.length === 0 && page === 1) {\n          statusOff('idle');\n          return;\n        }\n\n        setImages(prevImages => [...prevImages, ...image.hits]);\n      });\n    }\n\n    statusOff('idle');\n  }, [imageName, page, status, statusOff]);\n\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(img => (\n        <ImageGalleryItem\n          key={img.webformatURL}\n          url={img.webformatURL}\n          openModal={() => onSelect(img.largeImageURL)}\n          bigImgUrl={img.largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  imageName: PropTypes.string,\n  page: PropTypes.number,\n  onSelect: PropTypes.func,\n  statusOff: PropTypes.func,\n};\n","export default function pixabayFetch(name, page) {\n  const key = '22673335-b99cca5659da707c56ab45ca0';\n  const url = 'https://pixabay.com/api/';\n  return fetch(\n    `${url}?q=${name}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => res.json());\n}\n","import { useState } from 'react';\nimport s from './searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  const handelSubmit = event => {\n    event.preventDefault();\n    if (imageName.trim() === '') {\n      return;\n    }\n    onSubmit(imageName);\n    setImageName('');\n  };\n\n  const handelNameChange = event => {\n    setImageName(event.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.searchForm} onSubmit={handelSubmit}>\n        <button type=\"submit\" className={s.searchFormButton}>\n          <span className={s.searchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.searchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          value={imageName}\n          onChange={handelNameChange}\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","import { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './modal.module.css';\n\nexport default function Modal({ bigImg, onClose }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = useCallback(\n    e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    },\n    [onClose],\n  );\n\n  const handleClickBackdrope = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={s.overlay} onClick={handleClickBackdrope}>\n      <div className={s.modal}>\n        <img src={bigImg} alt=\"\" width=\"800\" />\n      </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  bigImg: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\nimport s from './button.module.css';\nexport default function Button({ onClickAdd }) {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n  return (\n    <button className={s.button} type=\"button\" onClick={onClickAdd}>\n      <span>Load More</span>\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClickAdd: PropTypes.func,\n};\n","import LoaderSpinner from 'react-loader-spinner';\nimport s from './loder.module.css';\nconst Loader = () => {\n  return (\n    <div className={s.overlay}>\n      <LoaderSpinner type=\"Grid\" color=\"#00BFFF\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import { React, useState } from 'react';\nimport ImageGallery from './components/imageGallery/imageGallery';\nimport Searchbar from './components/searchbar/searchbar';\nimport Modal from './components/modal/modal';\nimport Button from './components/button/button';\nimport Loader from './components/Loader/loader';\n\nexport default function App() {\n  const [imageName, setImageName] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [bigImg, setBigImg] = useState(null);\n  const [page, setPage] = useState(1);\n  const [button, setButton] = useState(false);\n  const [status, setStatus] = useState('idle');\n\n  const handelFormSubmit = imageName => {\n    setImageName(imageName);\n    setButton(true);\n    setStatus('load');\n  };\n\n  const toggleModal = () => {\n    setShowModal(s => !s);\n  };\n\n  const bigImgs = bigImgURL => {\n    setBigImg(bigImgURL);\n    toggleModal();\n  };\n\n  const statusOff = idle => {\n    setTimeout(idle => setStatus(idle), 500);\n  };\n\n  const addMore = () => {\n    setPage(s => s + 1);\n    setStatus('load');\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={handelFormSubmit} />\n      <ImageGallery\n        imageName={imageName}\n        onOpen={toggleModal}\n        bigImg={bigImg}\n        page={page}\n        onSelect={bigImgs}\n        statusOff={statusOff}\n        status={status}\n      />\n      {button && <Button onClickAdd={addMore} />}\n      {status === 'load' && <Loader />}\n      {showModal && <Modal onClose={toggleModal} bigImg={bigImg} />}\n    </>\n  );\n}\n\n// class OldApp extends Component {\n//   state = {\n//     imageName: null,\n//     showModal: false,\n//     bigImg: null,\n//     page: 1,\n//     button: false,\n//     status: 'idle',\n//   };\n//   toggleModal = () => {\n//     this.setState(({ showModal }) => ({ showModal: !showModal }));\n//   };\n//   handelFormSubmit = imageName => {\n//     return this.setState({\n//       imageName,\n//       button: true,\n//       status: 'load',\n//     });\n//   };\n\n//   bigImgs = bigImgURL => {\n//     this.setState({ bigImg: bigImgURL });\n//     this.toggleModal();\n//   };\n//   statusOff = idle => {\n//     setTimeout(idle => this.setState({ status: idle }), 500);\n//   };\n\n//   addMore = () => {\n//     this.setState(prevState => ({\n//       page: prevState.page + 1,\n//     }));\n//   };\n//   render() {\n//     const { imageName, bigImg, page, button, status, showModal } = this.state;\n//     return (\n//       <>\n//         <Searchbar onSubmit={this.handelFormSubmit} />\n//         <ImageGallery\n//           imageName={imageName}\n//           onOpen={this.toggleModal}\n//           bigImg={bigImg}\n//           page={page}\n//           onSelect={this.bigImgs}\n//           statusOff={this.statusOff}\n//         />\n//         {button && <Button onClickAdd={this.addMore} />}\n//         {status === 'load' && <Loader />}\n//         {showModal && <Modal onClose={this.toggleModal} bigImg={bigImg} />}\n//       </>\n//     );\n//   }\n// }\n// export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__203dK\",\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__323Zl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__7CoW8\",\"modal\":\"modal_modal__2v3aC\"};"],"sourceRoot":""}